{"version":3,"sources":["components/UseFetch.js","components/AppProvider.js","components/Nominations.js","components/Results.js","components/Search.js","components/Movie.js","App.js","index.js"],"names":["url","process","REACT_APP_OMDB_KEY","useFetch","title","useState","movies","setMovies","error","setError","fetchMovies","a","fetch","response","json","data","Error","Search","console","log","useEffect","AppContext","createContext","AppProvider","children","searchTitle","setSearchTitle","nominations","setNominations","movie","setMovie","storage","JSON","parse","localStorage","getItem","setItem","stringify","Provider","value","useGlobalContext","useContext","Nominations","className","length","map","item","onClick","Title","Year","newNominations","filter","imdbID","removeNomminations","Results","msg","substring","some","alert","addNomminations","React","useRef","action","htmlFor","type","id","placeholder","ref","onChange","current","Movie","href","Poster","src","alt","Type","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a770a50c.chunk.js","sourcesContent":["import {useState, useEffect} from 'react'\n\nconst url = `https://www.omdbapi.com/?apikey=${process.env.REACT_APP_OMDB_KEY}&s=`;\n\nconst useFetch = (title) => {\n\n    const [movies, setMovies] = useState([]);\n    const [error, setError] = useState(\"\");\n\n    const fetchMovies = async () => {\n        try{\n            setError(\"\");\n            const response = await fetch(`${url}${title}`);\n            const data = await response.json();\n            const { Error, Search } = data;\n            if (Search){\n                setMovies(Search);\n            }\n            else if(Error){\n                setMovies([]);\n                setError(Error);\n            }else{\n                setMovies([]);\n                setError(\"Error occurred please try again\");\n            }\n\n        }catch(error) {\n            console.log(error);\n            setMovies([]);\n            setError(\"Error occurred please try again\");\n        }\n    }\n\n    useEffect(() => {\n        fetchMovies();\n    }, [title]);\n\n    return {error, movies};\n}\n\nexport default useFetch;\n","import { useState, useEffect, useContext, createContext } from 'react'\nimport useFetch from './UseFetch'\n\nconst AppContext = createContext();\n\nconst AppProvider = ({ children }) => {\n    const [searchTitle, setSearchTitle] = useState(\"\");\n    const [nominations, setNominations] = useState([]);\n    const [movie, setMovie] = useState(null);\n    const {error, movies } = useFetch(searchTitle);\n\n    useEffect(() => {\n        let storage = JSON.parse(localStorage.getItem(\"Nominations\"));\n        storage = storage ? storage : [];\n        setNominations(storage);\n    }, [])\n\n    useEffect(() => {\n        localStorage.setItem(\"Nominations\", JSON.stringify(nominations));\n    }, [nominations])\n\n    return (\n        <AppContext.Provider value={{searchTitle, nominations, movie, movies, error, setSearchTitle, setNominations, setMovie}}>\n            {children}\n        </AppContext.Provider>\n    )\n}\n\nexport const useGlobalContext = () => {\n    return useContext(AppContext);\n}\n\nexport  { AppContext, AppProvider }\n","import { useGlobalContext } from './AppProvider';\nimport { CgRemove } from 'react-icons/cg'\n\nconst Nominations = () => {\n\n    const { nominations, setNominations, setMovie } = useGlobalContext();\n\n    const removeNomminations = (movie) => {\n        const newNominations = nominations.filter((item) => item.imdbID !== movie.imdbID);\n        setNominations(newNominations);\n    }\n\n    return (\n        <section className=\"nominations\">\n            <div className=\"list-title\">\n                <h2> Nominations </h2>\n                <h2> {nominations.length} </h2>\n            </div>\n\n            <ul>\n                { \n                    nominations.map((item) => {\n                        return (\n                            <li key={item.imdbID} className=\"list\"> \n                                <h3 className=\"movie-title\" onClick={() => setMovie(item)}>{item.Title} ({item.Year})</h3>\n                                <CgRemove className=\"icon\" onClick={() => removeNomminations(item)} />\n                            </li>\n                        )\n                    })\n                }\n            </ul>\n        </section>\n    )\n}\n\nexport default Nominations\n","import { useGlobalContext } from './AppProvider';\nimport { CgAdd } from 'react-icons/cg'\n\nconst Results = () => {\n    const { searchTitle, nominations, movies, error, setNominations, setMovie } = useGlobalContext();\n\n    const msg = searchTitle && error ? error : \"Use Search bar to Search\"\n    const title = searchTitle.length < 20 ? searchTitle : searchTitle.substring(1, 21) + \"...\"\n\n    const addNomminations = (movie) => {\n        nominations.length >=5 ? alert(\"You have reach maximum of 5 nominations\") :\n        setNominations(nominations => [movie, ...nominations]);\n    }\n\n    const inNomination = (movie) => {\n        return nominations.some((item) => item.imdbID === movie.imdbID)\n    }\n\n    return (\n        <section className=\"results\">\n            <h2> Results for \"{title}\" </h2>\n            \n            <ul>\n                { \n                    movies.length < 1 ? <h2>{msg}</h2> :\n                    movies.map((item) => {\n                        return (\n                        <li key={item.imdbID} className=\"list\">\n                            <h3 className=\"movie-title\" onClick={() => setMovie(item)}>{item.Title} ({item.Year})</h3>\n                            \n                            { \n                                inNomination(item) ? \"\" : <CgAdd className=\"icon\" onClick={() => addNomminations(item)}/>\n                            }\n                        </li>)\n                    })\n                }\n            </ul>\n        </section>\n    )\n}\n\nexport default Results\n","import React from 'react'\nimport { useGlobalContext } from './AppProvider';\nimport { BsSearch } from 'react-icons/bs'\n\nconst Search = () => {\n    const { setSearchTitle } = useGlobalContext();\n    const title = React.useRef('');\n\n    const handleChange = () => {\n         setSearchTitle(title.current.value);\n    }\n\n    return (\n        <section className=\"search\">\n            <form className=\"search-form\" action=\"\">\n                <div>\n                    <label htmlFor=\"search-title\">Movie Titles</label>\n                </div>\n                <div className=\"search-bar\">\n                    <BsSearch className=\"icon-static\"/>\n                    <input className=\"input-field\" type=\"text\" id=\"search-title\" placeholder=\"Search Movie Title ...\" ref={title} onChange={handleChange}/>\n                </div>\n            </form>\n        </section>\n    )\n}\n\nexport default Search\n","import { useGlobalContext } from './AppProvider';\n\nconst Movie = () => {\n    \n    const { movie } = useGlobalContext();\n\n    if (!movie){\n        return <></>\n    }\n\n    return (\n        <section className=\"movie\">\n            <a href={movie.Poster}><img src={movie.Poster} alt={movie.Title}/></a>\n            <div className=\"movie-info\">\n                <h2>Movie Details</h2>\n                <h3>Title: {movie.Title}</h3>\n                <h3>Year: {movie.Year}</h3>\n                <h3>Type: {movie.Type}</h3>\n                <h3>imdbID: {movie.imdbID}</h3>\n            </div>\n        </section>\n    )\n}\n\nexport default Movie\n","import Nominations from './components/Nominations';\nimport Results from './components/Results';\nimport Search from './components/Search';\n\nimport './App.css';\nimport Movie from './components/Movie';\n\nfunction App() {\n  return (\n    <main>\n        <h2 className=\"header\"> \n          The Shoppies\n        </h2>\n        <Search />\n        <Results />\n        <Nominations />\n        <Movie />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { AppProvider } from './components/AppProvider';\n\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}